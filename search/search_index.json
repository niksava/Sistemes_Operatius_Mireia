{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Instal\u00b7laci\u00f3 d'aplicacions per la terminal","text":""},{"location":"#installacio-amb-snap-i-apt","title":"Instal\u00b7laci\u00f3 amb snap i apt","text":""},{"location":"#installacio-amb-snap","title":"Instal\u00b7laci\u00f3 amb snap","text":"<p>Primer per instal\u00b7lar una aplicaci\u00f3 dels repositoris \u00e9s nom\u00e9s fer la seg\u00fcent comanda. </p> <p>Com podem veure no s'ha descarregat dels repositoris perqu\u00e8 no t\u00e9 el paquet per\u00f2 si fem sudo snap install telegram-desktop es descarregar\u00e0 ara ho far\u00e9.</p> <p></p> <p>Com podem veure s'ha instal\u00b7lat.</p> <p></p>"},{"location":"#instalacio-amb-apt","title":"Instalaci\u00f3 amb apt","text":"<p>I tornem a fer la comanda sudo apt install FileZilla. </p> <p>I aqu\u00ed ho tenim fet.</p> <p></p>"},{"location":"#instalacio-amb-wget","title":"Instalaci\u00f3 amb wget","text":"<p>Per descarregar amb wget hem de tindre el enlla\u00e7 del arxiu i descarregar-lo. </p> <p>I per instal\u00b7lar fem servir la comanda sudo dpkg -i fitxer.deb.  </p>"},{"location":"#pinning","title":"Pinning","text":"<p>Entrem en el mode root i mirem la versio del candidat. </p> <p>Per actualitzar el candidat a una versi\u00f3 m\u00e9s nova fem les seguents comandes. </p> <p>I com podem veure a canviat a una versi\u00f3 mes nova. </p> <p>Per tornar a la versi\u00f3 anterior hem de anar al seguent directori.</p> <p>cd /etc/apt/preferences.d</p> <p>I despres creem un arxiu anomenat i l'editem.</p> <p>nano apt_preferences</p> <p>Al editar hem de saber a quina versi\u00f3 volem tornar en el meu cas es la anteriorn per tant editem el primer quadrat ficant el numero de la versio anterior i al pi_priority fiquem 1001 per tindre major prioritat i al segon quadrat fiquem la ultima veri\u00f3 i pin_priority 500 guardem i sortim. </p> <p>Per comprovar simplement fem la comanda.</p> <p>apt-cache policy</p> <p>I ens surtira a vaix de tot les versions. </p> <p>I com ens podem ficsar ens a canviat el candidat d'actualitzaci\u00f3 dels paquets. </p>"},{"location":"#esta-obra-esta-marcada-con-cc0-10","title":"<p>Esta obra est\u00e1 marcada con CC0 1.0</p>","text":""},{"location":"ra2/","title":"Sprint 2","text":""},{"location":"ra2/#que-es-un-usuari","title":"Qu\u00e8 \u00e9s un usuari?","text":"<p>Un usuari \u00e9s una entitat que representa una persona o un proc\u00e9s amb permisos per accedir i interactuar amb el sistema. Cada usuari t\u00e9 el seu propi entorn, configuracions i permisos, definits per un nom d\u2019usuari i una contrasenya.</p>"},{"location":"ra2/#que-es-un-grup-i-quina-utilitat-te-agrupar-usuaris-en-grups","title":"Qu\u00e8 \u00e9s un grup i quina utilitat t\u00e9 agrupar usuaris en grups?","text":"<p>Un grup \u00e9s una col\u00b7lecci\u00f3 d\u2019usuaris que comparteixen certs privilegis i permisos. Agrupar usuaris en grups permet gestionar els permisos d\u2019acc\u00e9s de manera m\u00e9s eficient, ja que podem assignar drets espec\u00edfics a un grup sencer en lloc de fer-ho usuari per usuari.</p> <p>Per exemple, en un entorn de treball, podem tenir un grup anomenat \"administradors\" amb permisos d'administraci\u00f3 del sistema i un altre grup anomenat \"empleats\" amb permisos m\u00e9s restringits. D\u2019aquesta manera, nom\u00e9s cal assignar permisos a aquests grups, i els usuaris que hi pertanyen autom\u00e0ticament reben els permisos associats. Aix\u00f2 simplifica molt la gesti\u00f3 d\u2019usuaris en sistemes amb molts comptes.</p>"},{"location":"ra2/#gestio-dusuaris-per-interficie-grafica","title":"Gesti\u00f3 d\u2019usuaris per interf\u00edcie gr\u00e0fica","text":"<p>Per gestionar un dels usuaris per la interf\u00edcie gr\u00e0fica hem de instalar el gnome-system-tools.</p> <p><code>sudo apt install gnome-system-tools</code></p> <p> </p> <p>Primer afegeixo un usuari.</p> <p> </p> <p>Ara afegeixo un grup.</p> <p> </p> <p>I li dono permisos.</p> <p></p> <p>I com podem veure no pot instalar res.</p> <p></p>"},{"location":"ra2/#4-fitxers-implicats-en-la-gestio-dusuaris-i-grups","title":"4 fitxers implicats en la gesti\u00f3 d'usuaris i grups","text":"<ol> <li> <p>/etc/passwd: Emmagatzema informaci\u00f3 b\u00e0sica sobre cada usuari del sistema. Cada l\u00ednia representa un usuari i cont\u00e9 camps com el nom d'usuari, l'UID, el GID, el directori d'inici, i el shell per defecte.</p> </li> <li> <p>/etc/group: Emmagatzema la informaci\u00f3 dels grups. Cada l\u00ednia representa un grup, especificant el nom del grup, el GID i una llista opcional d'usuaris que en s\u00f3n membres.</p> </li> <li> <p>/etc/shadow: Emmagatzema contrasenyes encriptades dels usuaris i altra informaci\u00f3 sobre la caducitat de contrasenyes. \u00c9s accessible nom\u00e9s per superusuaris per motius de seguretat.</p> </li> <li> <p>/etc/gshadow: Emmagatzema informaci\u00f3 sensible dels grups, com les contrasenyes dels grups i els seus administradors. Nom\u00e9s \u00e9s accessible per superusuaris.</p> </li> </ol>"},{"location":"ra2/#significat-de-i-en-el-fitxer-etcshadow","title":"Significat de * i ! en el fitxer <code>/etc/shadow</code>","text":"<ul> <li> <p>*: Indica que l'usuari no t\u00e9 una contrasenya configurada i, per tant, no pot iniciar sessi\u00f3.</p> </li> <li> <p>!: Indica que el compte est\u00e0 bloquejat temporalment i l'usuari no pot iniciar sessi\u00f3 fins que es tregui el !.</p> </li> </ul> <p>/etc/group: Cont\u00e9 informaci\u00f3 dels grups del sistema. Cada l\u00ednia defineix un grup.</p> <p>Exemple d'entrada:</p> <p><code>grup:x:1001:usuari1,usuari2</code></p> <p>Explicaci\u00f3 dels camps:</p> <ul> <li>grup: Nom del grup.</li> <li>x: La contrasenya del grup es troba en el fitxer /etc/gshadow.</li> <li>1001: GID del grup.</li> <li>usuari1,usuari2: Llista d'usuaris membres del grup (opcional).</li> </ul> <p>/etc/shadow: Emmagatzema les contrasenyes encriptades dels usuaris. Est\u00e0 protegit i nom\u00e9s els administradors poden accedir-hi.</p> <p>Exemple d'entrada:</p> <p><code>usuari:$6$abcdefg...:18993:0:99999:7:::</code></p> <p>Explicaci\u00f3 dels camps:</p> <ul> <li>usuari: Nom de l'usuari.</li> <li>$6$abcdefg...: Contrasenya encriptada.</li> <li>18993: Data de l'\u00faltim canvi de contrasenya (en dies des de l'\u00e8poca Unix).</li> <li>0: M\u00ednim de dies abans que l'usuari pugui canviar la contrasenya.</li> <li>99999: M\u00e0xim de dies que es pot mantenir la contrasenya sense canvis.</li> <li>7: Dies d'av\u00eds abans de la caducitat de la contrasenya.</li> <li>::: Camps opcionals per caducitat de l'usuari i altres.</li> </ul> <p>/etc/gshadow: Cont\u00e9 informaci\u00f3 sensible sobre els grups com contrasenyes encriptades i membres administradors.</p> <p>Exemple d'entrada:</p> <p><code>grup:$1$xyz...:admin_user:usuari1,usuari2</code></p> <p>Explicaci\u00f3 dels camps:</p> <ul> <li>grup: Nom del grup.</li> <li>$1$xyz...: Contrasenya encriptada del grup.</li> <li>admin_user: Administrador del grup.</li> <li>usuari1,usuari2: Membres del grup.</li> </ul>"},{"location":"ra2/#camp-epoch-en-etcshadow","title":"Camp \"epoch\" en <code>/etc/shadow</code>","text":"<p>El camp \"epoch\" fa refer\u00e8ncia al tercer camp del fitxer <code>/etc/shadow</code>, que cont\u00e9 la data de l'\u00faltim canvi de contrasenya en format de dies des de l'\u00e8poca Unix (1 de gener de 1970). Serveix per controlar la caducitat de la contrasenya.</p>"},{"location":"ra2/#creacio-dusuaris","title":"Creaci\u00f3 d'usuaris","text":"<p>Per crear un usuari en Linux, utilitza la comanda <code>useradd</code> o <code>adduser:</code></p> <ul> <li>Comanda b\u00e0sica amb <code>useradd:</code></li> </ul> <p><code>sudo useradd -m nom_usuari</code></p> <p></p> <p>L'opci\u00f3 <code>-m</code> crea autom\u00e0ticament el directori d'inici de l'usuari.</p> <p>Afegir contrasenya a l'usuari:</p> <p><code>sudo passwd nom_usuari</code></p> <p></p> <p>Explicaci\u00f3 dels camps:</p> <ul> <li>usuari1: Nom de l'usuari.</li> <li>x: Indica que la contrasenya est\u00e0 encriptada en el fitxer /etc/shadow per motius de  seguretat.</li> <li>1001: UID (User ID) de l'usuari.</li> <li>1001: GID (Group ID) de l'usuari per defecte.</li> <li>Nom d'usuari: Camp informatiu (nom complet, descripci\u00f3, etc.).</li> <li>/home/usuari1: Directori d'inici de l'usuari.</li> <li>/bin/bash: Shell per defecte que utilitza l'usuari.</li> </ul> <p></p>"},{"location":"ra2/#modificar-el-nom-dun-usuari","title":"Modificar el nom d'un usuari","text":"<p>Per canviar el nom d'un usuari, utilitza la comanda <code>usermod</code> amb l'opci\u00f3 <code>-l</code>:</p> <p><code>sudo usermod -l nou_nom antic_nom</code></p> <p></p> <p></p> <p>Tingues en compte que <code>-l</code> nom\u00e9s canvia el nom d'inici de sessi\u00f3 de l'usuari. Per canviar tamb\u00e9 el directori d'inici, utilitza l'opci\u00f3 <code>-d</code>:</p> <p><code>sudo usermod -d /home/nou_nom -m nou_nom</code></p> <p></p>"},{"location":"ra2/#eliminar-usuaris","title":"Eliminar usuaris","text":"<p>Hi ha dues maneres d'eliminar un usuari:</p> <p>Eliminar l'usuari sense esborrar el seu directori personal:</p> <p><code>sudo userdel nom_usuari</code></p> <p></p> <p></p> <p>Eliminar l'usuari i el seu directori personal:</p> <p><code>sudo userdel -r nom_usuari</code></p> <p></p> <p></p>"},{"location":"ra2/#bloquejar-i-desbloquejar-un-usuari","title":"Bloquejar i desbloquejar un usuari","text":"<ul> <li>Bloquejar un usuari:</li> </ul> <p><code>sudo usermod -L nom_usuari</code></p> <p></p> <p></p> <ul> <li>Desbloquejar un usuari:</li> </ul> <p><code>sudo usermod -U nom_usuari</code></p> <p></p> <p></p>"},{"location":"ra2/#explicacio-de-la-comanda-chage","title":"Explicaci\u00f3 de la comanda <code>chage</code>","text":"<p>La comanda <code>chage</code> permet modificar els par\u00e0metres de caducitat de la contrasenya d'un usuari. Aquesta comanda afecta el fitxer <code>/etc/shadow.</code></p> <p>Comanda per veure la configuraci\u00f3 actual d'un usuari:</p> <p><code>sudo chage -l nom_usuari</code></p> <p></p> <p>Comanda per establir una data de caducitat de contrasenya:</p> <p><code>sudo chage -E YYYY-MM-DD nom_usuari</code></p> <p></p> <p>Exemple per establir un per\u00edode de caducitat cada 90 dies:</p> <p><code>sudo chage -M 90 nom_usuari</code></p> <p></p>"},{"location":"ra2/#afegir-i-eliminar-un-usuari-del-grup-sudo","title":"Afegir i eliminar un usuari del grup <code>sudo</code>","text":"<ul> <li>Afegir un usuari al grup <code>sudo</code>:</li> </ul> <p><code>sudo usermod -aG sudo nom_usuari</code></p> <p></p> <p>Eliminar un usuari del grup <code>sudo</code>:</p> <p><code>sudo deluser nom_usuari sudo</code></p> <p></p>"},{"location":"ra2/#afegir-i-eliminar-un-usuari-del-grup-sudo_1","title":"Afegir i eliminar un usuari del grup <code>sudo</code>","text":"<p>Afegir un usuari al grup <code>sudo</code>:</p> <p><code>sudo usermod -aG sudo nom_usuari</code></p> <p></p> <p>Eliminar un usuari del grup <code>sudo</code>:</p> <p><code>sudo deluser nom_usuari sudo</code></p> <p></p> <p>Crear usuaris alumne1, alumne2, alumne3, alumne4 amb <code>adduser</code>.</p> <p></p> <p>Esborra l'alumne2 amb la comanda <code>deluser</code>.</p> <p></p> <p>Crea 2 grups (alumne i profe) amb la comanda addgroup.</p> <p></p> <p>Esborrar grup profe.</p> <p></p> <p>Crear grup jocs.</p> <p></p> <p>Modificar el grup alumne per alumnesASIX</p> <p></p> <p></p> <p>Modificar la paraula de pas d'alumne1</p> <p></p> <p>Modifica el nom d'alumne4 per alumne2</p> <p></p> <p>Assignar una paraula de pas al grup alumnesASIX</p> <p></p> <p>Modifica la paraula de pas de l'alumne1</p> <p></p> <p>Afegir dintre del grup alumnesASIX als 3 alumnes</p> <p></p> <p>Treure a l'alumne2 del grup</p> <p></p> <p>Afegeir a l'alumne1 al grup de jocs, per\u00f2 com a administrador i alumne2 com a usuari normal</p> <p></p> <p>Fer que l'alumne1 tingui com a grup principal el grup d'alumneASIX</p> <p></p> <p>Els 4 fitxers implicats en la gesti\u00f3 d'usuaris i grups:</p> <p><code>/etc/passwd:</code></p> <p>Cont\u00e9 informaci\u00f3 sobre els usuaris (nom, UID, GID principal, directori d\u2019inici, i shell).</p> <p></p> <p><code>/etc/group:</code></p> <p>Cont\u00e9 informaci\u00f3 sobre els grups (nom, GID, i llista d\u2019usuaris membres).</p> <p></p> <p><code>/etc/shadow:</code></p> <p>Cont\u00e9 les contrasenyes encriptades i altra informaci\u00f3 sobre les contrasenyes dels usuaris.</p> <p></p> <p><code>/etc/gshadow:</code></p> <p>Cont\u00e9 informaci\u00f3 sensible sobre els grups (contrasenyes de grup, administradors, i membres).</p> <p></p> <p>Quina \u00e9s la difer\u00e8ncia entre el que apareix al fitxer <code>/etc/group</code> i el que apareix al fitxer <code>/etc/gshadow</code>?</p> <ul> <li><code>/etc/group:</code></li> </ul> <p>Aquest fitxer cont\u00e9 informaci\u00f3 p\u00fablica sobre els grups, com el nom, el GID i els membres del grup.</p> <p>Exemple:</p> <p><code>jocs:x:1003:alumne2</code> <code>alumnesASIX:x:1004:alumne1,alumne2,alumne3</code></p> <ul> <li> <p><code>/etc/gshadow:</code> Aquest fitxer emmagatzema informaci\u00f3 m\u00e9s sensible i detallada sobre els grups, com:</p> </li> <li> <p>La contrasenya encriptada del grup (si n\u2019hi ha).</p> </li> <li>Els administradors del grup.</li> <li>Els membres normals del grup.</li> </ul> <p>Exemple:</p> <p><code>jocs:!:alumne1:alumne2</code> <code>alumnesASIX:!:alumne1:alumne2,alumne3</code></p> <p>Difer\u00e8ncia principal:</p> <ul> <li><code>/etc/group</code> nom\u00e9s llista els membres d\u2019un grup.</li> <li><code>/etc/gshadow</code> especifica quins membres s\u00f3n administradors i cont\u00e9 contrasenyes de grup encriptades (si s\u2019utilitzen).</li> </ul> <p>Bloquejar un usuari perqu\u00e8 no pugui accedir a un grup amb contrasenya amb <code>gpasswd</code></p> <ol> <li>Elimina la contrasenya del grup amb <code>gpasswd -r</code>:</li> </ol> <p></p> <p>Aix\u00f2 impedir\u00e0 que qualsevol usuari que no sigui membre del grup pugui accedir-hi, fins i tot si coneixia la contrasenya anterior.</p> <ol> <li>Afegeix expl\u00edcitament usuaris al grup si vols que hi accedeixin: Si un usuari necessita acc\u00e9s, cal afegir-lo manualment al grup:</li> </ol> <p></p> <ol> <li>Verifica els membres del grup: Pots comprovar els membres del grup amb:</li> </ol> <p></p> <p>Prova-ho:</p> <ol> <li>Estableix una contrasenya al grup amb:</li> </ol> <p></p> <ol> <li>Intenta accedir al grup amb <code>newgrp</code> des d'un usuari que no sigui membre:</li> </ol> <p></p>"},{"location":"ra2/#bloquejar-i-desbloquejar-un-usuari_1","title":"Bloquejar i desbloquejar un usuari","text":"<ul> <li>Bloquejar un usuari: Utilitza la comanda <code>passwd</code> amb l'opci\u00f3 <code>-l</code> per bloquejar un usuari. Aix\u00f2 impedeix que l'usuari pugui iniciar sessi\u00f3 al sistema.</li> </ul> <p>Per desbloquejar l\u2019usuari <code>alumne1</code>:</p> <p></p> <ul> <li>Comprovar si un usuari est\u00e0 bloquejat: Revisa el fitxer <code>/etc/shadow</code>. Si el segon camp de l'usuari comen\u00e7a amb un <code>!</code>, significa que est\u00e0 bloquejat.</li> </ul> <p></p>"},{"location":"ra2/#per-a-que-pot-servir-bloquejar-un-usuari","title":"Per a qu\u00e8 pot servir bloquejar un usuari?","text":"<p>Bloquejar un usuari pot ser \u00fatil en diverses situacions:</p> <ol> <li> <p>Suspensi\u00f3 temporal de l'acc\u00e9s: Si un empleat est\u00e0 de baixa o en vacances, es pot bloquejar l'acc\u00e9s temporalment sense eliminar el compte.</p> </li> <li> <p>Seguretat davant d'una amena\u00e7a: Si hi ha sospites que el compte ha estat comprom\u00e8s, es pot bloquejar immediatament mentre s'investiga.</p> </li> <li> <p>Compliment de pol\u00edtiques d\u2019empresa: Si un usuari incompleix normes, es pot suspendre el seu acc\u00e9s com a mesura disciplin\u00e0ria.</p> </li> <li> <p>Prevenci\u00f3 d'acc\u00e9s a comptes inactius: Els comptes que no s'utilitzen sovint es poden bloquejar per evitar que siguin utilitzats per atacants.</p> </li> </ol>"},{"location":"ra2/#estableix-una-politica-de-caducitat-per-a-la-contrasenya-dun-usuari-amb-chage","title":"Estableix una pol\u00edtica de caducitat per a la contrasenya d'un usuari amb <code>chage</code>","text":"<p>La comanda <code>chage</code> permet configurar pol\u00edtiques de caducitat de la contrasenya d\u2019un usuari. Aix\u00f2 \u00e9s \u00fatil per obligar els usuaris a canviar la seva contrasenya despr\u00e9s d\u2019un cert temps o per establir altres restriccions.</p> <p>Passos per configurar la caducitat:</p> <ol> <li>Visualitzar les pol\u00edtiques actuals de caducitat de l'usuari:</li> </ol> <p></p> <p>Aix\u00f2 mostrar\u00e0 informaci\u00f3 com:</p> <ul> <li>Data de l\u2019\u00faltim canvi de contrasenya.</li> <li>Dies abans de la caducitat.</li> <li>Dies m\u00ednims i m\u00e0xims entre canvis.</li> <li> <p>Avisos de caducitat.</p> </li> <li> <p>Configurar les pol\u00edtiques amb <code>chage</code>:</p> </li> </ul> <p>Exemple de configuraci\u00f3 per l\u2019usuari <code>alumne1</code>:</p> <p></p> <ul> <li><code>-M 30</code>: La contrasenya caducar\u00e0 cada 30 dies.</li> <li><code>-m 7</code>: L\u2019usuari haur\u00e0 d\u2019esperar almenys 7 dies abans de canviar la contrasenya de nou.</li> <li> <p><code>-W 5</code>: El sistema avisar\u00e0 l\u2019usuari 5 dies abans que la seva contrasenya caduqui.</p> </li> <li> <p>Configurar una data espec\u00edfica de caducitat:</p> </li> </ul> <p>Si vols que la contrasenya caduqui en una data concreta (per exemple, el 31 de desembre de 2024):</p> <p></p> <p>Explicaci\u00f3 del comportament despr\u00e9s de la configuraci\u00f3 - Quan la contrasenya estigui a punt de caducar, l\u2019usuari veur\u00e0 un av\u00eds quan inici\u00ef sessi\u00f3. - Si la contrasenya ja ha caducat, l\u2019usuari haur\u00e0 de canviar-la abans de poder continuar.</p>"},{"location":"ra2/#configuracio-per-defecte-per-a-nous-usuaris","title":"Configuraci\u00f3 per defecte per a nous usuaris","text":"<p>Configuraci\u00f3 al fitxer <code>/etc/default/useradd</code></p> <ol> <li>Edita el fitxer amb un editor de text:</li> </ol> <p><code>sudo nano /etc/default/useradd</code></p> <ol> <li> <p>Modifica els seg\u00fcents par\u00e0metres:</p> </li> <li> <p><code>HOME=/home</code>: Indica que les carpetes dels nous usuaris es crearan dins /home.</p> </li> <li><code>SHELL=/bin/bash</code>: Defineix l'int\u00e8rpret predeterminat com a <code>bash</code>.</li> <li><code>SKEL=/etc/skel</code>: Utilitza <code>/etc/skel</code> com a plantilla per al contingut de la carpeta personal.</li> <li><code>EXPIRE=2025-12-31</code>: Fixa una data de caducitat predeterminada pels comptes.</li> </ol> <p>Exemple del contingut modificat:</p> <p></p> <p>Configuraci\u00f3 al fitxer <code>/etc/login.defs</code></p> <ol> <li>Edita el fitxer:</li> </ol> <p><code>sudo nano /etc/login.defs</code></p> <p></p> <ol> <li> <p>Modifica les configuracions per a les contrasenyes i altres par\u00e0metres:</p> </li> <li> <p><code>PASS_MAX_DAYS 90</code>: La contrasenya caducar\u00e0 cada 90 dies.</p> </li> <li><code>PASS_MIN_DAYS 7</code>: L'usuari haur\u00e0 d'esperar almenys 7 dies abans de canviar la contrasenya.</li> <li><code>PASS_WARN_AGE 5</code>: El sistema avisar\u00e0 5 dies abans que la contrasenya caduqui.</li> <li><code>UID_MIN 1000 i GID_MIN 1000</code>: Els identificadors m\u00ednims per als nous usuaris i grups.</li> </ol> <p>Personalitzaci\u00f3 del directori <code>/etc/skel</code></p> <p>El directori <code>/etc/skel</code> cont\u00e9 els fitxers que es copiaran autom\u00e0ticament a la carpeta personal de cada nou usuari.</p> <ol> <li>Visualitza els fitxers que ja hi ha:</li> </ol> <p></p> <ol> <li> <p>Pots afegir fitxers nous o personalitzar-los:</p> </li> <li> <p>Afegir un fitxer de benvinguda:</p> </li> </ol> <p></p> <ul> <li>Configurar <code>.bashrc</code> o <code>.profile</code>: Personalitza els scripts per defecte d'inici de sessi\u00f3.</li> </ul> <p>Prova de creaci\u00f3 d'un usuari</p> <ol> <li>Crea un usuari nou:</li> </ol> <p></p> <ol> <li>Assigna una contrasenya a l\u2019usuari:</li> </ol> <p></p> <ol> <li> <p>Comprova les configuracions:</p> </li> <li> <p>Carpeta personal: Verifica que s\u2019ha creat i que cont\u00e9 els fitxers de <code>/etc/skel</code>:</p> </li> </ol> <p></p> <ul> <li>Contrasenya i pol\u00edtiques: Utilitza la comanda <code>chage</code> per veure les pol\u00edtiques aplicades:</li> </ul> <p></p> <ul> <li>Shell predeterminat: Verifica que el Shell \u00e9s <code>/bin/bash</code>:</li> </ul> <p></p> <p>Comparaci\u00f3 entre <code>/etc/default/useradd</code> i <code>/etc/adduser.conf</code></p> <ul> <li> <p><code>/etc/default/useradd</code>: Configura par\u00e0metres generals com la carpeta personal, Shell, plantilla, i data de caducitat per a nous usuaris creats amb <code>useradd</code>.</p> </li> <li> <p><code>/etc/adduser.conf</code>: Utilitzat per la comanda <code>adduser</code>, permet m\u00e9s configuracions com el format del nom d\u2019usuari, si es creen grups amb el mateix nom, i altres opcions avan\u00e7ades.</p> </li> </ul> <p>Prova de configuraci\u00f3 personalitzada a <code>/etc/skel</code> i <code>/etc/adduser.conf</code></p> <ol> <li>Personalitzar <code>/etc/skel</code></li> </ol> <p>El directori <code>/etc/skel</code> cont\u00e9 fitxers que es copien autom\u00e0ticament al directori personal dels nous usuaris. Aqu\u00ed pots afegir contingut personalitzat.</p> <p>Passos:</p> <ol> <li>Visualitza els fitxers existents (incloent-hi els ocults):</li> </ol> <p></p> <p>Per defecte, els fitxers s\u00f3n:</p> <ul> <li>.profile: S'executa quan l'usuari inicia sessi\u00f3.</li> <li>.bashrc: Cont\u00e9 configuracions com \u00e0lies i variables.</li> <li> <p>.bash_logout: S'executa quan l'usuari tanca la sessi\u00f3.</p> </li> <li> <p>Personalitza el directori <code>/etc/skel</code>:</p> </li> <li> <p>Afegir un fitxer nou:</p> </li> </ul> <p><code>echo \"Benvingut al sistema!\" | sudo tee /etc/skel/benvinguda.txt</code></p> <ul> <li>Modificar <code>.bashrc</code> per afegir \u00e0lies:</li> </ul> <p><code>echo \"alias ll='ls -la'\" | sudo tee -a /etc/skel/.bashrc</code></p> <ul> <li>Modificar <code>.profile</code> per afegir un missatge de benvinguda:</li> </ul> <p><code>echo \"echo 'Hola, benvingut a la teva sessi\u00f3!'\" | sudo tee -a /etc/skel/.profile</code></p> <ol> <li>Modificar el fitxer <code>/etc/adduser.conf</code></li> </ol> <p>El fitxer <code>/etc/adduser.conf</code> permet definir opcions per als usuaris creats amb la comanda <code>adduser</code>.</p> <p>Passos:</p> <ol> <li>Edita el fitxer:</li> </ol> <p><code>sudo nano /etc/adduser.conf</code></p> <ol> <li> <p>Realitza les seg\u00fcents modificacions:</p> </li> <li> <p>Grup predeterminat: Canvia el grup inicial:</p> </li> </ol> <p><code>USERGROUPS=yes</code></p> <ul> <li>Directori personal: Defineix el format del directori personal:</li> </ul> <p><code>DHOME=/home</code></p> <p>Shell predeterminat: Assegura que el Shell sigui /bin/bash:</p> <p><code>DSHELL=/bin/bash</code></p> <p>Identificadors d'usuari i grup: Defineix els rangs d'UID i GID:</p> <p><code>FIRST_UID=1000</code> <code>LAST_UID=60000</code> <code>FIRST_GID=1000</code> <code>LAST_GID=60000</code></p> <ol> <li> <p>Creaci\u00f3 d'un usuari nou i comprovaci\u00f3</p> </li> <li> <p>Crea un usuari nou amb <code>adduser</code>:</p> </li> </ol> <p><code>sudo adduser prova_usuari</code></p> <p>Durant la creaci\u00f3, pots seguir els passos interactius per definir la contrasenya i altres detalls.</p> <ol> <li>Comprova el contingut de la carpeta personal:</li> </ol> <p><code>ls -la /home/prova_usuari</code></p> <p>Verifica que s'hagin copiat els fitxers de <code>/etc/skel</code> (inclosos els fitxers ocults).</p> <p>Obre el fitxer <code>benvinguda.txt</code> per comprovar-ne el contingut</p> <p><code>cat /home/prova_usuari/benvinguda.txt</code></p> <ol> <li> <p>Verifica les configuracions de <code>.bashrc</code> i <code>.profile</code>:</p> </li> <li> <p>Comprova si l'\u00e0lies definit funciona:</p> </li> </ol> <p><code>su - prova_usuari</code> <code>ll</code></p> <ul> <li> <p>Comprova el missatge de benvinguda afegit al <code>.profile</code>: Quan inicies sessi\u00f3, hauria d'apar\u00e8ixer un missatge de benvinguda.</p> </li> <li> <p>Comprova el Shell predeterminat:</p> </li> </ul> <p><code>grep \"prova_usuari\" /etc/passwd</code></p> <p>Fitxers d'usuari per defecte importants 1. <code>$HOME/.profile</code>: Executat cada vegada que un usuari inicia sessi\u00f3. S'hi poden afegir configuracions d'entorn o missatges de benvinguda.</p> <ol> <li> <p><code>$HOME/.bashrc</code>: Cont\u00e9 configuracions del Shell, com ara variables o \u00e0lies.</p> </li> <li> <p><code>$HOME/.bash_logout</code>: Executat quan l'usuari tanca la sessi\u00f3, ideal per netejar processos temporals.</p> </li> <li> <p>Modificar el fitxer <code>/etc/profile</code> El fitxer <code>/etc/profile</code> \u00e9s executat per tots els usuaris quan inicien sessi\u00f3 en un terminal TTY (no en un entorn gr\u00e0fic). Serveix per definir variables d'entorn globals i per establir configuracions que es volen aplicar a tots els usuaris.</p> </li> </ol> <p>Acci\u00f3 a realitzar: Afegir una variable d'entorn per definir el directori de treball inicial a tots els usuaris.</p> <p>Com fer-ho: 1. Edita el fitxer <code>/etc/profile</code>:</p> <p>sudo <code>nano /etc/profile</code></p> <ol> <li>Afegeix la seg\u00fcent l\u00ednia al final del fitxer per establir el directori de treball inicial:</li> </ol> <p><code>export DIR_INICIAL=/home/$USER/treball</code> 3. Guarda i tanca el fitxer.</p> <ol> <li> <p>Comprova que la configuraci\u00f3 s'ha aplicat correctament:</p> </li> <li> <p>Tanca la sessi\u00f3 i torna a iniciar sessi\u00f3 a trav\u00e9s d'un terminal TTY (Ctrl+Alt+F1...F6).</p> </li> <li>Un cop dins, comprova la variable d'entorn:</li> </ol> <p><code>echo $DIR_INICIAL</code></p> <p>Aquesta variable hauria de mostrar el directori configurat per a l'usuari, per exemple: <code>/home/usuari/treball</code>.</p> <ol> <li>Modificar el fitxer <code>~/.bashrc</code> El fitxer <code>~/.bashrc</code> es carrega en obrir una nova sessi\u00f3 del shell interactiva (en un terminal). Aquest fitxer s'utilitza per personalitzar l'entorn de l'usuari, incloent-hi configuracions com \u00e0lies, funcions i variables d'entorn locals.</li> </ol> <p>Acci\u00f3 a realitzar:</p> <p>Afegir un \u00e0lies personalitzat per simplificar comandes freq\u00fcents.</p> <p>Com fer-ho:</p> <ol> <li>Edita el fitxer <code>~/.bashrc</code> de l'usuari:</li> </ol> <p><code>nano ~/.bashrc</code></p> <ol> <li>Afegeix un \u00e0lies personalitzat per la comanda <code>ls</code>:</li> </ol> <p><code>alias ll='ls -la'</code></p> <ol> <li> <p>Guarda i tanca el fitxer.</p> </li> <li> <p>Comprova que l'\u00e0lies funciona:</p> </li> <li> <p>Inicia una nova sessi\u00f3 TTY.</p> </li> <li> <p>Executa l'\u00e0lies:</p> </li> </ol> <p><code>ll</code></p> <p>Aix\u00f2 hauria de mostrar una llista detallada de fitxers i directoris (equivalent a <code>ls -la</code>).</p> <ol> <li>Modificar el fitxer <code>~/.bash_logout</code> El fitxer <code>~/.bash_logout</code> es carrega quan l'usuari tanca una sessi\u00f3 en un terminal. Es pot utilitzar per netejar recursos, escriure missatges o realitzar altres tasques de neteja.</li> </ol> <p>Acci\u00f3 a realitzar:</p> <p>Afegir un missatge de comiat personalitzat quan l'usuari tanqui la sessi\u00f3.</p> <p>Com fer-ho:</p> <ol> <li>Edita el fitxer <code>~/.bash_logout</code>:</li> </ol> <p><code>nano ~/.bash_logout</code></p> <ol> <li>Afegeix una l\u00ednia per mostrar un missatge de comiat:</li> </ol> <p><code>echo \"Fins aviat, $USER! Que tinguis un bon dia!\"</code></p> <ol> <li> <p>Comprova que el missatge es mostra correctament:</p> </li> <li> <p>Inicia una sessi\u00f3 TTY.</p> </li> <li>Tanca la sessi\u00f3 amb la comanda:</li> </ol> <p><code>exit</code></p> <p>El missatge hauria d'apar\u00e8ixer abans que es tanqui la sessi\u00f3.</p> <p>Resum de les accions realitzades</p> <ol> <li><code>/etc/profile</code>: Hem afegit una variable d'entorn global que es configura a l'inici de la sessi\u00f3 de qualsevol usuari.</li> <li><code>~/.bashrc:</code> Hem creat un \u00e0lies per facilitar l'\u00fas d'una comanda (ll per ls -la).</li> <li><code>~/.bash_logout:</code> Hem configurat un missatge de comiat que es mostra al tancar la sessi\u00f3.</li> </ol> <p>Comprovaci\u00f3 final</p> <p>Per verificar que les configuracions s'han aplicat correctament:</p> <ol> <li>Inicia una sessi\u00f3 a TTY (Ctrl+Alt+F1...F6). Verifica la variable d'entorn (per <code>/etc/profile</code>):</li> </ol> <p><code>echo $DIR_INICIAL</code></p> <ol> <li>Verifica l'\u00e0lies (per <code>~/.bashrc</code>):</li> </ol> <p><code>ll</code></p> <ol> <li>Tanca la sessi\u00f3 i verifica el missatge de comiat (per <code>~/.bash_logout</code>):</li> </ol> <p><code>exit</code></p> <ol> <li>Aquestes configuracions es compliran nom\u00e9s en sessions natives de terminal (TTY), no en entorns gr\u00e0fics.</li> </ol>"}]}