
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="..">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.42">
    
    
      
        <title>Sprint 2 - Nichita Sava sistemes operatius</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.0253249f.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#que-es-un-usuari" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Nichita Sava sistemes operatius" class="md-header__button md-logo" aria-label="Nichita Sava sistemes operatius" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Nichita Sava sistemes operatius
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Sprint 2
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  Sprint 1

      </a>
    </li>
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
    
  
  Sprint 2

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Nichita Sava sistemes operatius" class="md-nav__button md-logo" aria-label="Nichita Sava sistemes operatius" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Nichita Sava sistemes operatius
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sprint 1
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Sprint 2
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Sprint 2
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#que-es-un-usuari" class="md-nav__link">
    <span class="md-ellipsis">
      Què és un usuari?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#que-es-un-grup-i-quina-utilitat-te-agrupar-usuaris-en-grups" class="md-nav__link">
    <span class="md-ellipsis">
      Què és un grup i quina utilitat té agrupar usuaris en grups?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gestio-dusuaris-per-interficie-grafica" class="md-nav__link">
    <span class="md-ellipsis">
      Gestió d’usuaris per interfície gràfica
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Gestió d’usuaris per interfície gràfica">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#4-fitxers-implicats-en-la-gestio-dusuaris-i-grups" class="md-nav__link">
    <span class="md-ellipsis">
      4 fitxers implicats en la gestió d'usuaris i grups
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#significat-de-i-en-el-fitxer-etcshadow" class="md-nav__link">
    <span class="md-ellipsis">
      Significat de * i ! en el fitxer /etc/shadow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camp-epoch-en-etcshadow" class="md-nav__link">
    <span class="md-ellipsis">
      Camp "epoch" en /etc/shadow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creacio-dusuaris" class="md-nav__link">
    <span class="md-ellipsis">
      Creació d'usuaris
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modificar-el-nom-dun-usuari" class="md-nav__link">
    <span class="md-ellipsis">
      Modificar el nom d'un usuari
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eliminar-usuaris" class="md-nav__link">
    <span class="md-ellipsis">
      Eliminar usuaris
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bloquejar-i-desbloquejar-un-usuari" class="md-nav__link">
    <span class="md-ellipsis">
      Bloquejar i desbloquejar un usuari
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explicacio-de-la-comanda-chage" class="md-nav__link">
    <span class="md-ellipsis">
      Explicació de la comanda chage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afegir-i-eliminar-un-usuari-del-grup-sudo" class="md-nav__link">
    <span class="md-ellipsis">
      Afegir i eliminar un usuari del grup sudo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afegir-i-eliminar-un-usuari-del-grup-sudo_1" class="md-nav__link">
    <span class="md-ellipsis">
      Afegir i eliminar un usuari del grup sudo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bloquejar-i-desbloquejar-un-usuari_1" class="md-nav__link">
    <span class="md-ellipsis">
      Bloquejar i desbloquejar un usuari
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#per-a-que-pot-servir-bloquejar-un-usuari" class="md-nav__link">
    <span class="md-ellipsis">
      Per a què pot servir bloquejar un usuari?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#estableix-una-politica-de-caducitat-per-a-la-contrasenya-dun-usuari-amb-chage" class="md-nav__link">
    <span class="md-ellipsis">
      Estableix una política de caducitat per a la contrasenya d'un usuari amb chage
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuracio-per-defecte-per-a-nous-usuaris" class="md-nav__link">
    <span class="md-ellipsis">
      Configuració per defecte per a nous usuaris
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Sprint 2</h1>

<h2 id="que-es-un-usuari"><strong>Què és un usuari?</strong></h2>
<p>Un usuari és una entitat que representa una persona o un procés amb permisos per accedir i interactuar amb el sistema. Cada usuari té el seu propi entorn, configuracions i permisos, definits per un nom d’usuari i una contrasenya.</p>
<h2 id="que-es-un-grup-i-quina-utilitat-te-agrupar-usuaris-en-grups"><strong>Què és un grup i quina utilitat té agrupar usuaris en grups?</strong></h2>
<p>Un grup és una col·lecció d’usuaris que comparteixen certs privilegis i permisos. Agrupar usuaris en grups permet gestionar els permisos d’accés de manera més eficient, ja que podem assignar drets específics a un grup sencer en lloc de fer-ho usuari per usuari.</p>
<p>Per exemple, en un entorn de treball, podem tenir un grup anomenat "administradors" amb permisos d'administració del sistema i un altre grup anomenat "empleats" amb permisos més restringits. D’aquesta manera, només cal assignar permisos a aquests grups, i els usuaris que hi pertanyen automàticament reben els permisos associats. Això simplifica molt la gestió d’usuaris en sistemes amb molts comptes.</p>
<h2 id="gestio-dusuaris-per-interficie-grafica"><strong>Gestió d’usuaris per interfície gràfica</strong></h2>
<p>Per gestionar un dels usuaris per la interfície gràfica hem de instalar el gnome-system-tools.</p>
<p><code>sudo apt install gnome-system-tools</code></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2815%29.png" />
<img alt="Imatge" src="../images/Imatge%20enganxada%20%2816%29.png" /></p>
<p>Primer afegeixo un usuari.</p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2817%29.png" />
<img alt="Imatge" src="../images/Imatge%20enganxada%20%2818%29.png" /></p>
<p>Ara afegeixo un grup.</p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2819%29.png" />
<img alt="Imatge" src="../images/Imatge%20enganxada%20%2820%29.png" /></p>
<p>I li dono permisos.</p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2821%29.png" /></p>
<p>I com podem veure no pot instalar res.</p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2822%29.png" /></p>
<h3 id="4-fitxers-implicats-en-la-gestio-dusuaris-i-grups"><strong>4 fitxers implicats en la gestió d'usuaris i grups</strong></h3>
<ol>
<li>
<p><strong>/etc/passwd:</strong> Emmagatzema informació bàsica sobre cada usuari del sistema. Cada línia representa un usuari i conté camps com el nom d'usuari, l'UID, el GID, el directori d'inici, i el shell per defecte.</p>
</li>
<li>
<p><strong>/etc/group:</strong> Emmagatzema la informació dels grups. Cada línia representa un grup, especificant el nom del grup, el GID i una llista opcional d'usuaris que en són membres.</p>
</li>
<li>
<p><strong>/etc/shadow:</strong> Emmagatzema contrasenyes encriptades dels usuaris i altra informació sobre la caducitat de contrasenyes. És accessible només per superusuaris per motius de seguretat.</p>
</li>
<li>
<p><strong>/etc/gshadow:</strong> Emmagatzema informació sensible dels grups, com les contrasenyes dels grups i els seus administradors. Només és accessible per superusuaris.</p>
</li>
</ol>
<h3 id="significat-de-i-en-el-fitxer-etcshadow"><strong>Significat de * i ! en el fitxer <code>/etc/shadow</code></strong></h3>
<ul>
<li>
<p>*: Indica que l'usuari no té una contrasenya configurada i, per tant, no pot iniciar sessió.</p>
</li>
<li>
<p>!: Indica que el compte està bloquejat temporalment i l'usuari no pot iniciar sessió fins que es tregui el !.</p>
</li>
</ul>
<p><strong>/etc/group:</strong> Conté informació dels grups del sistema. Cada línia defineix un grup.</p>
<p><strong>Exemple d'entrada:</strong></p>
<p><code>grup:x:1001:usuari1,usuari2</code></p>
<p><strong>Explicació dels camps:</strong></p>
<ul>
<li><strong>grup:</strong> Nom del grup.</li>
<li><strong>x:</strong> La contrasenya del grup es troba en el fitxer /etc/gshadow.</li>
<li><strong>1001:</strong> GID del grup.</li>
<li><strong>usuari1,usuari2:</strong> Llista d'usuaris membres del grup (opcional).</li>
</ul>
<p><strong>/etc/shadow:</strong> Emmagatzema les contrasenyes encriptades dels usuaris. Està protegit i només els administradors poden accedir-hi.</p>
<p><strong>Exemple d'entrada:</strong></p>
<p><code>usuari:$6$abcdefg...:18993:0:99999:7:::</code></p>
<p><strong>Explicació dels camps:</strong></p>
<ul>
<li><strong>usuari:</strong> Nom de l'usuari.</li>
<li><strong>$6$abcdefg...:</strong> Contrasenya encriptada.</li>
<li><strong>18993:</strong> Data de l'últim canvi de contrasenya (en dies des de l'època Unix).</li>
<li><strong>0:</strong> Mínim de dies abans que l'usuari pugui canviar la contrasenya.</li>
<li><strong>99999:</strong> Màxim de dies que es pot mantenir la contrasenya sense canvis.</li>
<li><strong>7:</strong> Dies d'avís abans de la caducitat de la contrasenya.</li>
<li><strong>:::</strong> Camps opcionals per caducitat de l'usuari i altres.</li>
</ul>
<p><strong>/etc/gshadow:</strong> Conté informació sensible sobre els grups com contrasenyes encriptades i membres administradors.</p>
<p><strong>Exemple d'entrada:</strong></p>
<p><code>grup:$1$xyz...:admin_user:usuari1,usuari2</code></p>
<p><strong>Explicació dels camps:</strong></p>
<ul>
<li><strong>grup:</strong> Nom del grup.</li>
<li><strong>$1$xyz...:</strong> Contrasenya encriptada del grup.</li>
<li><strong>admin_user:</strong> Administrador del grup.</li>
<li><strong>usuari1,usuari2:</strong> Membres del grup.</li>
</ul>
<h3 id="camp-epoch-en-etcshadow"><strong>Camp "epoch" en <code>/etc/shadow</code></strong></h3>
<p>El camp "epoch" fa referència al tercer camp del fitxer <code>/etc/shadow</code>, que conté la data de l'últim canvi de contrasenya en format de dies des de l'època Unix (1 de gener de 1970). Serveix per controlar la caducitat de la contrasenya.</p>
<h3 id="creacio-dusuaris"><strong>Creació d'usuaris</strong></h3>
<p>Per crear un usuari en Linux, utilitza la comanda <code>useradd</code> o <code>adduser:</code></p>
<ul>
<li>Comanda bàsica amb <code>useradd:</code></li>
</ul>
<p><code>sudo useradd -m nom_usuari</code></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2823%29.png" /></p>
<p>L'opció <code>-m</code> crea automàticament el directori d'inici de l'usuari.</p>
<p>Afegir contrasenya a l'usuari:</p>
<p><code>sudo passwd nom_usuari</code></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2824%29.png" /></p>
<p><strong>Explicació dels camps:</strong></p>
<ul>
<li><strong>usuari1:</strong> Nom de l'usuari.</li>
<li><strong>x:</strong> Indica que la contrasenya està encriptada en el fitxer /etc/shadow per motius de  seguretat.</li>
<li><strong>1001:</strong> UID (User ID) de l'usuari.</li>
<li><strong>1001:</strong> GID (Group ID) de l'usuari per defecte.</li>
<li><strong>Nom d'usuari:</strong> Camp informatiu (nom complet, descripció, etc.).</li>
<li><strong>/home/usuari1:</strong> Directori d'inici de l'usuari.</li>
<li><strong>/bin/bash:</strong> Shell per defecte que utilitza l'usuari.</li>
</ul>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2825%29.png" /></p>
<h3 id="modificar-el-nom-dun-usuari"><strong>Modificar el nom d'un usuari</strong></h3>
<p>Per canviar el nom d'un usuari, utilitza la comanda <code>usermod</code> amb l'opció <code>-l</code>:</p>
<p><code>sudo usermod -l nou_nom antic_nom</code></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2826%29.png" /></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2827%29.png" /></p>
<p>Tingues en compte que <code>-l</code> només canvia el nom d'inici de sessió de l'usuari. Per canviar també el directori d'inici, utilitza l'opció <code>-d</code>:</p>
<p><code>sudo usermod -d /home/nou_nom -m nou_nom</code></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2828%29.png" /></p>
<h3 id="eliminar-usuaris"><strong>Eliminar usuaris</strong></h3>
<p>Hi ha dues maneres d'eliminar un usuari:</p>
<p>Eliminar l'usuari sense esborrar el seu directori personal:</p>
<p><code>sudo userdel nom_usuari</code></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2829%29.png" /></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2830%29.png" /></p>
<p><strong>Eliminar l'usuari i el seu directori personal:</strong></p>
<p><code>sudo userdel -r nom_usuari</code></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2831%29.png" /></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2832%29.png" /></p>
<h3 id="bloquejar-i-desbloquejar-un-usuari"><strong>Bloquejar i desbloquejar un usuari</strong></h3>
<ul>
<li><strong>Bloquejar un usuari:</strong></li>
</ul>
<p><code>sudo usermod -L nom_usuari</code></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2834%29.png" /></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2833%29.png" /></p>
<ul>
<li><strong>Desbloquejar un usuari:</strong></li>
</ul>
<p><code>sudo usermod -U nom_usuari</code></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2835%29.png" /></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2836%29.png" /></p>
<h3 id="explicacio-de-la-comanda-chage"><strong>Explicació de la comanda <code>chage</code></strong></h3>
<p>La comanda <code>chage</code> permet modificar els paràmetres de caducitat de la contrasenya d'un usuari. Aquesta comanda afecta el fitxer <code>/etc/shadow.</code></p>
<p><strong>Comanda per veure la configuració actual d'un usuari:</strong></p>
<p><code>sudo chage -l nom_usuari</code></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2837%29.png" /></p>
<p><strong>Comanda per establir una data de caducitat de contrasenya:</strong></p>
<p><code>sudo chage -E YYYY-MM-DD nom_usuari</code></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2838%29.png" /></p>
<p><strong>Exemple per establir un període de caducitat cada 90 dies:</strong></p>
<p><code>sudo chage -M 90 nom_usuari</code></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2839%29.png" /></p>
<h3 id="afegir-i-eliminar-un-usuari-del-grup-sudo"><strong>Afegir i eliminar un usuari del grup <code>sudo</code></strong></h3>
<ul>
<li><strong>Afegir un usuari al grup <code>sudo</code>:</strong></li>
</ul>
<p><code>sudo usermod -aG sudo nom_usuari</code></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2840%29.png" /></p>
<p><strong>Eliminar un usuari del grup <code>sudo</code>:</strong></p>
<p><code>sudo deluser nom_usuari sudo</code></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2841%29.png" /></p>
<h3 id="afegir-i-eliminar-un-usuari-del-grup-sudo_1"><strong>Afegir i eliminar un usuari del grup <code>sudo</code></strong></h3>
<p><strong>Afegir un usuari al grup <code>sudo</code>:</strong></p>
<p><code>sudo usermod -aG sudo nom_usuari</code></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2842%29.png" /></p>
<p><strong>Eliminar un usuari del grup <code>sudo</code>:</strong></p>
<p><code>sudo deluser nom_usuari sudo</code></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2843%29.png" /></p>
<p><strong>Crear usuaris alumne1, alumne2, alumne3, alumne4 amb <code>adduser</code>.</strong></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2844%29.png" /></p>
<p><strong>Esborra l'alumne2 amb la comanda <code>deluser</code>.</strong></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2845%29.png" /></p>
<p><strong>Crea 2 grups (alumne i profe) amb la comanda addgroup.</strong></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2846%29.png" /></p>
<p><strong>Esborrar grup profe.</strong></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2847%29.png" /></p>
<p><strong>Crear grup jocs.</strong></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2848%29.png" /></p>
<p><strong>Modificar el grup alumne per alumnesASIX</strong></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2849%29.png" /></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2850%29.png" /></p>
<p><strong>Modificar la paraula de pas d'alumne1</strong></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2851%29.png" /></p>
<p><strong>Modifica el nom d'alumne4 per alumne2</strong></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2852%29.png" /></p>
<p><strong>Assignar una paraula de pas al grup alumnesASIX</strong></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2853%29.png" /></p>
<p><strong>Modifica la paraula de pas de l'alumne1</strong></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2854%29.png" /></p>
<p><strong>Afegir dintre del grup alumnesASIX als 3 alumnes</strong></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2855%29.png" /></p>
<p><strong>Treure a l'alumne2 del grup</strong></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2856%29.png" /></p>
<p><strong>Afegeir a l'alumne1 al grup de jocs, però com a administrador i alumne2 com a usuari normal</strong></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2857%29.png" /></p>
<p><strong>Fer que l'alumne1 tingui com a grup principal el grup d'alumneASIX</strong></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2858%29.png" /></p>
<p><strong>Els 4 fitxers implicats en la gestió d'usuaris i grups:</strong></p>
<p><code>/etc/passwd:</code></p>
<p>Conté informació sobre els usuaris (nom, UID, GID principal, directori d’inici, i shell).</p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2859%29.png" /></p>
<p><code>/etc/group:</code></p>
<p>Conté informació sobre els grups (nom, GID, i llista d’usuaris membres).</p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2860%29.png" /></p>
<p><code>/etc/shadow:</code></p>
<p>Conté les contrasenyes encriptades i altra informació sobre les contrasenyes dels usuaris.</p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2861%29.png" /></p>
<p><code>/etc/gshadow:</code></p>
<p>Conté informació sensible sobre els grups (contrasenyes de grup, administradors, i membres).</p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2862%29.png" /></p>
<p><strong>Quina és la diferència entre el que apareix al fitxer <code>/etc/group</code> i el que apareix al fitxer <code>/etc/gshadow</code>?</strong></p>
<ul>
<li><strong><code>/etc/group:</code></strong></li>
</ul>
<p>Aquest fitxer conté informació pública sobre els grups, com el nom, el GID i els membres del grup.</p>
<p>Exemple:</p>
<p><code>jocs:x:1003:alumne2</code>
<code>alumnesASIX:x:1004:alumne1,alumne2,alumne3</code></p>
<ul>
<li>
<p><strong><code>/etc/gshadow:</code></strong>
Aquest fitxer emmagatzema informació més sensible i detallada sobre els grups, com:</p>
</li>
<li>
<p>La contrasenya encriptada del grup (si n’hi ha).</p>
</li>
<li>Els administradors del grup.</li>
<li>Els membres normals del grup.</li>
</ul>
<p>Exemple:</p>
<p><code>jocs:!:alumne1:alumne2</code>
<code>alumnesASIX:!:alumne1:alumne2,alumne3</code></p>
<p><strong>Diferència principal:</strong></p>
<ul>
<li><code>/etc/group</code> només llista els membres d’un grup.</li>
<li><code>/etc/gshadow</code> especifica quins membres són administradors i conté contrasenyes de grup encriptades (si s’utilitzen).</li>
</ul>
<p><strong>Bloquejar un usuari perquè no pugui accedir a un grup amb contrasenya amb <code>gpasswd</code></strong></p>
<ol>
<li>Elimina la contrasenya del grup amb <code>gpasswd -r</code>:</li>
</ol>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2863%29.png" /></p>
<p>Això impedirà que qualsevol usuari que no sigui membre del grup pugui accedir-hi, fins i tot si coneixia la contrasenya anterior.</p>
<ol>
<li>Afegeix explícitament usuaris al grup si vols que hi accedeixin: Si un usuari necessita accés, cal afegir-lo manualment al grup:</li>
</ol>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2864%29.png" /></p>
<ol>
<li>Verifica els membres del grup: Pots comprovar els membres del grup amb:</li>
</ol>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2865%29.png" /></p>
<p><strong>Prova-ho:</strong></p>
<ol>
<li>Estableix una contrasenya al grup amb:</li>
</ol>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2866%29.png" /></p>
<ol>
<li>Intenta accedir al grup amb <code>newgrp</code> des d'un usuari que no sigui membre:</li>
</ol>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2867%29.png" /></p>
<h3 id="bloquejar-i-desbloquejar-un-usuari_1"><strong>Bloquejar i desbloquejar un usuari</strong></h3>
<ul>
<li><strong>Bloquejar un usuari</strong>: Utilitza la comanda <code>passwd</code> amb l'opció <code>-l</code> per bloquejar un usuari. Això impedeix que l'usuari pugui iniciar sessió al sistema.</li>
</ul>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2868%29.png" /></p>
<p>Per desbloquejar l’usuari <code>alumne1</code>:</p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2869%29.png" /></p>
<ul>
<li><strong>Comprovar si un usuari està bloquejat:</strong> Revisa el fitxer <code>/etc/shadow</code>. Si el segon camp de l'usuari comença amb un <code>!</code>, significa que està bloquejat.</li>
</ul>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2870%29.png" /></p>
<h3 id="per-a-que-pot-servir-bloquejar-un-usuari"><strong>Per a què pot servir bloquejar un usuari?</strong></h3>
<p>Bloquejar un usuari pot ser útil en diverses situacions:</p>
<ol>
<li>
<p><strong>Suspensió temporal de l'accés:</strong> Si un empleat està de baixa o en vacances, es pot bloquejar l'accés temporalment sense eliminar el compte.</p>
</li>
<li>
<p><strong>Seguretat davant d'una amenaça:</strong> Si hi ha sospites que el compte ha estat compromès, es pot bloquejar immediatament mentre s'investiga.</p>
</li>
<li>
<p><strong>Compliment de polítiques d’empresa:</strong> Si un usuari incompleix normes, es pot suspendre el seu accés com a mesura disciplinària.</p>
</li>
<li>
<p><strong>Prevenció d'accés a comptes inactius:</strong> Els comptes que no s'utilitzen sovint es poden bloquejar per evitar que siguin utilitzats per atacants.</p>
</li>
</ol>
<h3 id="estableix-una-politica-de-caducitat-per-a-la-contrasenya-dun-usuari-amb-chage"><strong>Estableix una política de caducitat per a la contrasenya d'un usuari amb <code>chage</code></strong></h3>
<p>La comanda <code>chage</code> permet configurar polítiques de caducitat de la contrasenya d’un usuari. Això és útil per obligar els usuaris a canviar la seva contrasenya després d’un cert temps o per establir altres restriccions.</p>
<p><strong>Passos per configurar la caducitat:</strong></p>
<ol>
<li><strong>Visualitzar les polítiques actuals de caducitat de l'usuari:</strong></li>
</ol>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2871%29.png" /></p>
<p>Això mostrarà informació com:</p>
<ul>
<li>Data de l’últim canvi de contrasenya.</li>
<li>Dies abans de la caducitat.</li>
<li>Dies mínims i màxims entre canvis.</li>
<li>
<p>Avisos de caducitat.</p>
</li>
<li>
<p><strong>Configurar les polítiques amb <code>chage</code>:</strong></p>
</li>
</ul>
<p>Exemple de configuració per l’usuari <code>alumne1</code>:</p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2872%29.png" /></p>
<ul>
<li><code>-M 30</code>: La contrasenya caducarà cada 30 dies.</li>
<li><code>-m 7</code>: L’usuari haurà d’esperar almenys 7 dies abans de canviar la contrasenya de nou.</li>
<li>
<p><code>-W 5</code>: El sistema avisarà l’usuari 5 dies abans que la seva contrasenya caduqui.</p>
</li>
<li>
<p><strong>Configurar una data específica de caducitat:</strong></p>
</li>
</ul>
<p>Si vols que la contrasenya caduqui en una data concreta (per exemple, el 31 de desembre de 2024):</p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2873%29.png" /></p>
<p><strong>Explicació del comportament després de la configuració</strong>
- Quan la contrasenya estigui a punt de caducar, l’usuari veurà un avís quan iniciï sessió.
- Si la contrasenya ja ha caducat, l’usuari haurà de canviar-la abans de poder continuar.</p>
<h2 id="configuracio-per-defecte-per-a-nous-usuaris"><strong>Configuració per defecte per a nous usuaris</strong></h2>
<p><strong>Configuració al fitxer <code>/etc/default/useradd</code></strong></p>
<ol>
<li>Edita el fitxer amb un editor de text:</li>
</ol>
<p><code>sudo nano /etc/default/useradd</code></p>
<ol>
<li>
<p>Modifica els següents paràmetres:</p>
</li>
<li>
<p><code>HOME=/home</code>: Indica que les carpetes dels nous usuaris es crearan dins /home.</p>
</li>
<li><code>SHELL=/bin/bash</code>: Defineix l'intèrpret predeterminat com a <code>bash</code>.</li>
<li><code>SKEL=/etc/skel</code>: Utilitza <code>/etc/skel</code> com a plantilla per al contingut de la carpeta personal.</li>
<li><code>EXPIRE=2025-12-31</code>: Fixa una data de caducitat predeterminada pels comptes.</li>
</ol>
<p><strong>Exemple del contingut modificat:</strong></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2874%29.png" /></p>
<p><strong>Configuració al fitxer <code>/etc/login.defs</code></strong></p>
<ol>
<li>Edita el fitxer:</li>
</ol>
<p><code>sudo nano /etc/login.defs</code></p>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2875%29.png" /></p>
<ol>
<li>
<p>Modifica les configuracions per a les contrasenyes i altres paràmetres:</p>
</li>
<li>
<p><code>PASS_MAX_DAYS 90</code>: La contrasenya caducarà cada 90 dies.</p>
</li>
<li><code>PASS_MIN_DAYS 7</code>: L'usuari haurà d'esperar almenys 7 dies abans de canviar la contrasenya.</li>
<li><code>PASS_WARN_AGE 5</code>: El sistema avisarà 5 dies abans que la contrasenya caduqui.</li>
<li><code>UID_MIN 1000 i GID_MIN 1000</code>: Els identificadors mínims per als nous usuaris i grups.</li>
</ol>
<p><strong>Personalització del directori <code>/etc/skel</code></strong></p>
<p>El directori <code>/etc/skel</code> conté els fitxers que es copiaran automàticament a la carpeta personal de cada nou usuari.</p>
<ol>
<li>Visualitza els fitxers que ja hi ha:</li>
</ol>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2876%29.png" /></p>
<ol>
<li>
<p>Pots afegir fitxers nous o personalitzar-los:</p>
</li>
<li>
<p><strong>Afegir un fitxer de benvinguda:</strong></p>
</li>
</ol>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2877%29.png" /></p>
<ul>
<li>Configurar <code>.bashrc</code> o <code>.profile</code>:
Personalitza els scripts per defecte d'inici de sessió.</li>
</ul>
<p><strong>Prova de creació d'un usuari</strong></p>
<ol>
<li>Crea un usuari nou:</li>
</ol>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2878%29.png" /></p>
<ol>
<li>Assigna una contrasenya a l’usuari:</li>
</ol>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2878%29.png" /></p>
<ol>
<li>
<p>Comprova les configuracions:</p>
</li>
<li>
<p><strong>Carpeta personal:</strong>
Verifica que s’ha creat i que conté els fitxers de <code>/etc/skel</code>:</p>
</li>
</ol>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2879%29.png" /></p>
<ul>
<li><strong>Contrasenya i polítiques:</strong>
Utilitza la comanda <code>chage</code> per veure les polítiques aplicades:</li>
</ul>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2880%29.png" /></p>
<ul>
<li><strong>Shell predeterminat:</strong>
Verifica que el Shell és <code>/bin/bash</code>:</li>
</ul>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2881%29.png" /></p>
<p><strong>Comparació entre <code>/etc/default/useradd</code> i <code>/etc/adduser.conf</code></strong></p>
<ul>
<li>
<p><code>/etc/default/useradd</code>: Configura paràmetres generals com la carpeta personal, Shell, plantilla, i data de caducitat per a nous usuaris creats amb <code>useradd</code>.</p>
</li>
<li>
<p><code>/etc/adduser.conf</code>: Utilitzat per la comanda <code>adduser</code>, permet més configuracions com el format del nom d’usuari, si es creen grups amb el mateix nom, i altres opcions avançades.</p>
</li>
</ul>
<p><strong>Prova de configuració personalitzada a <code>/etc/skel</code> i <code>/etc/adduser.conf</code></strong></p>
<ol>
<li><strong>Personalitzar <code>/etc/skel</code></strong></li>
</ol>
<p>El directori <code>/etc/skel</code> conté fitxers que es copien automàticament al directori personal dels nous usuaris. Aquí pots afegir contingut personalitzat.</p>
<p><strong>Passos:</strong></p>
<ol>
<li><strong>Visualitza els fitxers existents (incloent-hi els ocults):</strong></li>
</ol>
<p><img alt="Imatge" src="../images/Imatge%20enganxada%20%2882%29.png" /></p>
<p>Per defecte, els fitxers són:</p>
<ul>
<li>.profile: S'executa quan l'usuari inicia sessió.</li>
<li>.bashrc: Conté configuracions com àlies i variables.</li>
<li>
<p>.bash_logout: S'executa quan l'usuari tanca la sessió.</p>
</li>
<li>
<p><strong>Personalitza el directori <code>/etc/skel</code>:</strong></p>
</li>
<li>
<p>Afegir un fitxer nou:</p>
</li>
</ul>
<p><code>echo "Benvingut al sistema!" | sudo tee /etc/skel/benvinguda.txt</code></p>
<ul>
<li><strong>Modificar <code>.bashrc</code> per afegir àlies:</strong></li>
</ul>
<p><code>echo "alias ll='ls -la'" | sudo tee -a /etc/skel/.bashrc</code></p>
<ul>
<li><strong>Modificar <code>.profile</code> per afegir un missatge de benvinguda:</strong></li>
</ul>
<p><code>echo "echo 'Hola, benvingut a la teva sessió!'" | sudo tee -a /etc/skel/.profile</code></p>
<ol>
<li>Modificar el fitxer <code>/etc/adduser.conf</code></li>
</ol>
<p>El fitxer <code>/etc/adduser.conf</code> permet definir opcions per als usuaris creats amb la comanda <code>adduser</code>.</p>
<p>Passos:</p>
<ol>
<li>Edita el fitxer:</li>
</ol>
<p><code>sudo nano /etc/adduser.conf</code></p>
<ol>
<li>
<p><strong>Realitza les següents modificacions:</strong></p>
</li>
<li>
<p>Grup predeterminat: Canvia el grup inicial:</p>
</li>
</ol>
<p><code>USERGROUPS=yes</code></p>
<ul>
<li><strong>Directori personal</strong>: Defineix el format del directori personal:</li>
</ul>
<p><code>DHOME=/home</code></p>
<p><strong>Shell predeterminat</strong>: Assegura que el Shell sigui /bin/bash:</p>
<p><code>DSHELL=/bin/bash</code></p>
<p><strong>Identificadors d'usuari i grup</strong>: Defineix els rangs d'UID i GID:</p>
<p><code>FIRST_UID=1000</code>
<code>LAST_UID=60000</code>
<code>FIRST_GID=1000</code>
<code>LAST_GID=60000</code></p>
<ol>
<li>
<p><strong>Creació d'un usuari nou i comprovació</strong></p>
</li>
<li>
<p>Crea un usuari nou amb <code>adduser</code>:</p>
</li>
</ol>
<p><code>sudo adduser prova_usuari</code></p>
<p>Durant la creació, pots seguir els passos interactius per definir la contrasenya i altres detalls.</p>
<ol>
<li>Comprova el contingut de la carpeta personal:</li>
</ol>
<p><code>ls -la /home/prova_usuari</code></p>
<p>Verifica que s'hagin copiat els fitxers de <code>/etc/skel</code> (inclosos els fitxers ocults).</p>
<p>Obre el fitxer <code>benvinguda.txt</code> per comprovar-ne el contingut</p>
<p><code>cat /home/prova_usuari/benvinguda.txt</code></p>
<ol>
<li>
<p>Verifica les configuracions de <code>.bashrc</code> i <code>.profile</code>:</p>
</li>
<li>
<p>Comprova si l'àlies definit funciona:</p>
</li>
</ol>
<p><code>su - prova_usuari</code>
<code>ll</code></p>
<ul>
<li>
<p>Comprova el missatge de benvinguda afegit al <code>.profile</code>: Quan inicies sessió, hauria d'aparèixer un missatge de benvinguda.</p>
</li>
<li>
<p>Comprova el Shell predeterminat:</p>
</li>
</ul>
<p><code>grep "prova_usuari" /etc/passwd</code></p>
<p><strong>Fitxers d'usuari per defecte importants</strong>
1. <code>$HOME/.profile</code>:
Executat cada vegada que un usuari inicia sessió. S'hi poden afegir configuracions d'entorn o missatges de benvinguda.</p>
<ol>
<li>
<p><code>$HOME/.bashrc</code>:
Conté configuracions del Shell, com ara variables o àlies.</p>
</li>
<li>
<p><code>$HOME/.bash_logout</code>:
Executat quan l'usuari tanca la sessió, ideal per netejar processos temporals.</p>
</li>
<li>
<p><strong>Modificar el fitxer <code>/etc/profile</code></strong>
El fitxer <code>/etc/profile</code> és executat per tots els usuaris quan inicien sessió en un terminal TTY (no en un entorn gràfic). Serveix per definir variables d'entorn globals i per establir configuracions que es volen aplicar a tots els usuaris.</p>
</li>
</ol>
<p><strong>Acció a realitzar:</strong>
Afegir una variable d'entorn per definir el directori de treball inicial a tots els usuaris.</p>
<p><strong>Com fer-ho:</strong>
1. <strong>Edita el fitxer <code>/etc/profile</code>:</strong></p>
<p>sudo <code>nano /etc/profile</code></p>
<ol>
<li><strong>Afegeix la següent línia al final del fitxer per establir el directori de treball inicial:</strong></li>
</ol>
<p><code>export DIR_INICIAL=/home/$USER/treball</code>
3. <strong>Guarda i tanca el fitxer.</strong></p>
<ol>
<li>
<p><strong>Comprova que la configuració s'ha aplicat correctament:</strong></p>
</li>
<li>
<p>Tanca la sessió i torna a iniciar sessió a través d'un terminal TTY (Ctrl+Alt+F1...F6).</p>
</li>
<li>Un cop dins, comprova la variable d'entorn:</li>
</ol>
<p><code>echo $DIR_INICIAL</code></p>
<p>Aquesta variable hauria de mostrar el directori configurat per a l'usuari, per exemple: <code>/home/usuari/treball</code>.</p>
<ol>
<li>Modificar el fitxer <code>~/.bashrc</code>
El fitxer <code>~/.bashrc</code> es carrega en obrir una nova sessió del shell interactiva (en un terminal). Aquest fitxer s'utilitza per personalitzar l'entorn de l'usuari, incloent-hi configuracions com àlies, funcions i variables d'entorn locals.</li>
</ol>
<p><strong>Acció a realitzar:</strong></p>
<p>Afegir un àlies personalitzat per simplificar comandes freqüents.</p>
<p><strong>Com fer-ho:</strong></p>
<ol>
<li><strong>Edita el fitxer <code>~/.bashrc</code> de l'usuari:</strong></li>
</ol>
<p><code>nano ~/.bashrc</code></p>
<ol>
<li><strong>Afegeix un àlies personalitzat per la comanda <code>ls</code>:</strong></li>
</ol>
<p><code>alias ll='ls -la'</code></p>
<ol>
<li>
<p><strong>Guarda i tanca el fitxer.</strong></p>
</li>
<li>
<p><strong>Comprova que l'àlies funciona:</strong></p>
</li>
<li>
<p>Inicia una nova sessió TTY.</p>
</li>
<li>
<p>Executa l'àlies:</p>
</li>
</ol>
<p><code>ll</code></p>
<p>Això hauria de mostrar una llista detallada de fitxers i directoris (equivalent a <code>ls -la</code>).</p>
<ol>
<li>Modificar el fitxer <code>~/.bash_logout</code>
El fitxer <code>~/.bash_logout</code> es carrega quan l'usuari tanca una sessió en un terminal. Es pot utilitzar per netejar recursos, escriure missatges o realitzar altres tasques de neteja.</li>
</ol>
<p><strong>Acció a realitzar:</strong></p>
<p>Afegir un missatge de comiat personalitzat quan l'usuari tanqui la sessió.</p>
<p><strong>Com fer-ho:</strong></p>
<ol>
<li>Edita el fitxer <code>~/.bash_logout</code>:</li>
</ol>
<p><code>nano ~/.bash_logout</code></p>
<ol>
<li>Afegeix una línia per mostrar un missatge de comiat:</li>
</ol>
<p><code>echo "Fins aviat, $USER! Que tinguis un bon dia!"</code></p>
<ol>
<li>
<p>Comprova que el missatge es mostra correctament:</p>
</li>
<li>
<p>Inicia una sessió TTY.</p>
</li>
<li>Tanca la sessió amb la comanda:</li>
</ol>
<p><code>exit</code></p>
<p>El missatge hauria d'aparèixer abans que es tanqui la sessió.</p>
<p><strong>Resum de les accions realitzades</strong></p>
<ol>
<li><code>/etc/profile</code>: Hem afegit una variable d'entorn global que es configura a l'inici de la sessió de qualsevol usuari.</li>
<li><code>~/.bashrc:</code> Hem creat un àlies per facilitar l'ús d'una comanda (ll per ls -la).</li>
<li><code>~/.bash_logout:</code> Hem configurat un missatge de comiat que es mostra al tancar la sessió.</li>
</ol>
<p><strong>Comprovació final</strong></p>
<p>Per verificar que les configuracions s'han aplicat correctament:</p>
<ol>
<li><strong>Inicia una sessió a TTY</strong> (Ctrl+Alt+F1...F6).
Verifica la variable d'entorn (per <code>/etc/profile</code>):</li>
</ol>
<p><code>echo $DIR_INICIAL</code></p>
<ol>
<li>Verifica l'àlies (per <code>~/.bashrc</code>):</li>
</ol>
<p><code>ll</code></p>
<ol>
<li>Tanca la sessió i verifica el missatge de comiat (per <code>~/.bash_logout</code>):</li>
</ol>
<p><code>exit</code></p>
<ol>
<li>Aquestes configuracions es compliran només en sessions natives de terminal (TTY), no en entorns gràfics.</li>
</ol>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "toc.integrate", "code.tabs", "code.copy"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  </body>
</html>